# Solidityè¯­è¨€

[TOC]



## åŸºç¡€è¯­æ³•

### ç¼–è¯‘æŒ‡ç¤º

`pragma`å…³é”®å­—ç”¨äºå¯ç”¨æŸäº›ç¼–è¯‘å™¨åŠŸèƒ½æˆ–æ£€æŸ¥ã€‚

#### ç‰ˆæœ¬æ§åˆ¶

Solidityç‰ˆæœ¬å·æ ¼å¼ä¸ºï¼š`ä¸»ç‰ˆæœ¬å·.å‰¯ç‰ˆæœ¬å·.ä¿®å¤ç‰ˆæœ¬å·`ã€‚

ä¾‹ï¼ŒæŒ‡å®šåˆçº¦ç‰ˆæœ¬å·èŒƒå›´ï¼š

```solidity
pragma solidity >=0.4.16 <0.9.0;
```

ä¾‹ï¼Œç¦ç”¨`0.5.2`ä¹‹å‰çš„ç‰ˆæœ¬ï¼š

```sh
pragma solidity ^0.5.2
```

#### ABIç¼–ç å™¨

ç›®å‰æœ‰`V1`å’Œ`V2`ä¸¤æ¬¾ç¼–/è§£ç å™¨ï¼Œ`V2`ç¼–ç å™¨èƒ½å¤Ÿç¼–ç å’Œè§£ç ä»»æ„åµŒå¥—çš„æ•°ç»„å’Œç»“æ„ã€‚

ä¾‹ï¼Œä½¿ç”¨`V1`ç¼–ç å™¨ï¼š

```solidity
pragma abicoder v1;
```

ä¾‹ï¼Œä½¿ç”¨`V2`ç¼–ç å™¨ï¼š

```solidity
pragma abicoder v2;
```

#### SMTChecker

åœ¨æ„å»º Solidity ç¼–è¯‘å™¨æ—¶å¿…é¡»å¯ç”¨æ­¤ç»„ä»¶ï¼Œå› æ­¤å®ƒå¹¶éåœ¨æ‰€æœ‰ Solidity äºŒè¿›åˆ¶æ–‡ä»¶ä¸­éƒ½å¯ç”¨ã€‚

ä¾‹ï¼Œå¯ç”¨SMTCheckerï¼š

```solidity
pragma experimental SMTChecker;
```

### å¯¼å…¥

ç¼–è¯‘å™¨ç»´æŠ¤ä¸€ä¸ªå†…éƒ¨æ•°æ®åº“ï¼ˆ*è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ*æˆ–ç®€ç§°*VFS*ï¼‰ï¼Œå…¶ä¸­ä¸ºæ¯ä¸ªæºå•å…ƒåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„*æºå•å…ƒåç§°*ï¼Œè¯¥åç§°æ˜¯ä¸€ä¸ªä¸é€æ˜ä¸”éç»“æ„åŒ–çš„æ ‡è¯†ç¬¦ã€‚

å¯¼å…¥æ–¹å¼ï¼š

- å…¨å±€å¯¼å…¥ï¼›
- é‡å‘½åå¯¼å…¥ã€‚

ä¾‹ï¼Œå…¨å±€å¯¼å…¥ï¼š

```solidity
import * as symbol from "filename";
import "filename" // åŒä¸Š
import "filename" as symbol; // åŒä¸Š
```

ä¾‹ï¼Œé‡å‘½åå¯¼å…¥ï¼š

```solidity
import {symbol1 as alias1, symbol2} from "filename";
```

### ç±»å‹

#### åŸºæœ¬ç±»å‹

| ç±»å‹             | æ”¯æŒçš„æ“ä½œ                                                   | å–å€¼èŒƒå›´                           | è¯´æ˜                             |
| ---------------- | ------------------------------------------------------------ | ---------------------------------- | -------------------------------- |
| bool             | `!, &&, ||, ==, ==, !=`                                      | [false, true]                      | å¸ƒå°”å€¼                           |
| uint<br>int      | `<=, <, ==, !=, >=, >`<br>`&, |, ^, ~`<br>`<<, >>`<br>`+, -, *, /, % **(å¹‚)` | [uint8, uint256]<br>[int8, int256] | æ— ç¬¦å·æ•´æ•°<br>æœ‰ç¬¦å·æ•´æ•°         |
| unfixed<br>fixed | `<=, <, ==, !=, >=, >`<br>`+, -, *, /, %(æ¨¡)`                | []                                 | æ— ç¬¦å·å®šç‚¹æ•°<br>æœ‰ç¬¦å·å®šç‚¹æ•°     |
| address          | `<=, <, ==, !=, >=, >`                                       | [0, 20]                            | åœ°å€                             |
| address payable  | `<=, <, ==, !=, >=, >`                                       | [0, 20]                            | å¸¦é™„åŠ æˆå‘˜(transfer, send)çš„åœ°å€ |
| bytes            | `<=, <, ==, !=, >=, >`<br>`&, |, ^, ~`<br>`<<, >>`<br>`[i](ç´¢å¼•è®¿é—®)` | [1, n]                             | å­—èŠ‚æ•°ç»„                         |
| string           | `\<newline>`(è½¬ä¹‰æ¢è¡Œç¬¦)<br>`\\`(åæ–œæ )<br>`\'`(å•å¼•å·)<br>`\"`(åŒå¼•å·)<br>`\n`(æ–°é˜Ÿ)<br>`\r`(å›è½¦)<br>`\t`(æ ‡ç­¾)<br>`\xNN`(åå…­è¿›åˆ¶è½¬ä¹‰)<br>`\uNNNN`(unicodeè½¬ä¹‰) |                                    | å­—ç¬¦ä¸²                           |
| hex""            |                                                              |                                    | åå…­è¿›åˆ¶å­—é¢å€¼                   |

ä¾‹ï¼š

```solidity
address addr1 = address(this);
address payable addr2 = payable(0x123);

string memory str1 = unicode"hello ğŸ˜Š";

hex"001" hex"002" hex'003'
```

#### æ•°ç»„

æ•°ç»„å¯ä»¥å…·æœ‰ç¼–è¯‘æ—¶å›ºå®šå¤§å°`T[k]`ï¼Œä¹Ÿå¯ä»¥å…·æœ‰åŠ¨æ€å¤§å°`T[]`ï¼Œæ–°åˆ†é…çš„æ•°ç»„çš„å…ƒç´ å§‹ç»ˆä½¿ç”¨é»˜è®¤å€¼åˆå§‹åŒ–ã€‚

æ•°ç»„å­—é¢é‡æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼çš„é€—å·åˆ†å‰²åˆ—è¡¨ï¼Œç”¨`[...]`æ ‡è¯†ã€‚

ä¾‹ï¼Œä½¿ç”¨æ•°ç»„å­—é¢é‡ï¼š

```solidity
contract c {
	 function fn1() public pure {
	 	fn2([uint(1), 2, 3]);
	 }
	 function fn2(uint[3] memory) public pure {
	 	...
	 }
}
```

#### åˆ‡ç‰‡

åˆ‡ç‰‡æ²¡æœ‰ä»»ä½•æˆå‘˜ï¼Œå®ƒä»¬å¯ä»¥éšå¼è½¬æ¢ä¸ºå…¶åŸºç¡€ç±»å‹çš„æ•°ç»„å¹¶æ”¯æŒç´¢å¼•è®¿é—®ï¼›ç´¢å¼•è®¿é—®åœ¨åº•å±‚æ•°ç»„ä¸­ä¸æ˜¯ç»å¯¹çš„ï¼Œè€Œæ˜¯ç›¸å¯¹äºåˆ‡ç‰‡çš„èµ·å§‹ä½ç½®ã€‚

åˆ‡ç‰‡æ²¡æœ‰ç±»å‹åç§°ï¼Œè¿™æ„å‘³ç€æ²¡æœ‰å˜é‡å¯ä»¥å°†åˆ‡ç‰‡ä½œä¸ºç±»å‹ï¼Œå®ƒä»¬åªå­˜åœ¨äºä¸­é—´è¡¨è¾¾å¼ä¸­ã€‚

ä¾‹ï¼š

```solidity
bytes4 arr1 = bytes4(s[:4]);
```

#### æ˜ å°„

æ˜ å°„ï¼ˆMappingï¼‰ç±»ä¼¼äºå…¶å®ƒè¯­è¨€çš„mapæˆ–dictionaryï¼ŒSolidityè¯­æ³•ä¸æä¾›å¯¹æ˜ å°„è¿›è¡Œè¿­ä»£ï¼ˆå¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ•°æ®ç±»å‹æ¥é¿å…è¿™ä¸ªé—®é¢˜ï¼‰ã€‚

ä¾‹ï¼Œå°†åœ°å€æ˜ å°„åˆ°uintï¼š

```solidity
mapping (address => uint) public balance;
```

ä¾‹ï¼Œé€šè¿‡è‡ªå®šä¹‰æ•°æ®ç»“æ„æ¥è¿­ä»£æ˜ å°„ï¼š

```solidity
struct pair{ uint keyIndex; uint value; }
struct s {
	mapping(uint => pair) data;
	uint[] keys; // å­˜å‚¨æ‰€æœ‰çš„key
}
type Iterator is uint;

function range(s storage self, uint n) internal view returns (Iterator) {
	while(n < self.keys.length && self.keys[n].deleted)
		n++;
	return Iterator.wrap(n);
}
```

#### åŸºæœ¬å•ä½

ä»¥å¤ªå•ä½ï¼š

- `1 wei == 1`
- `1 gwei == 1e9 wei`
- `1 ether == 1e18 wei`

æ—¶é—´å•ä½ï¼š

- `1 seconds == 1`
- `1 minutes == 60 seconds`
- `1 hours == 60 minutes`
- `1 days = 24 hours`
- `1 weeks = 7 days`

#### éšå¼è½¬åŒ–

ç¼–è¯‘å™¨ä¼šåœ¨èµ‹å€¼æœŸé—´ï¼Œå°†å‚æ•°ä¼ é€’ç»™å‡½æ•°ä»¥åŠåº”ç”¨è¿ç”¨è¿ç®—ç¬¦æ—¶è‡ªåŠ¨åº”ç”¨éšå¼è½¬åŒ–ï¼Œè½¬æ¢è§„åˆ™å¦‚ä¸‹ï¼š

| æºç±»å‹ | ç›®æ ‡ç±»å‹     | è§„åˆ™                               |
| ------ | ------------ | ---------------------------------- |
| å­—ç¬¦ä¸² | æ•´å‹         | å…ˆè½¬åŒ–ä¸ºè¶³å¤Ÿå¤§çš„æ•´å‹ï¼Œå†å°†æ•´å‹æˆªæ–­ |
| å­—ç¬¦ä¸² | å›ºå®šå­—èŠ‚æ•°ç»„ | å¿…é¡»è¦é•¿åº¦ä¸€è‡´                     |

ä¾‹ï¼Œéšå¼è½¬åŒ–ï¼š

```solidity
uint8 x;
uint16 y;
uint32 z = x + y;

uint8  a = "12";
uint32 b = "1234";
uint16 c = "0x123456"; // c = 0x3456

byte2 b2 = hex"1234";
byte2 b2 = hex"12"; // ç¦æ­¢è½¬æ¢
```

#### æ˜¾å¼è½¬åŒ–

å¯¹äºç¼–è¯‘å™¨ä¸å…è®¸çš„éšå¼è½¬æ¢ï¼Œå¯ä»¥é€šè¿‡æ˜¾å¼è½¬æ¢æ¥è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼Œè½¬æ¢è§„åˆ™å¦‚ä¸‹ï¼š

| æºç±»å‹              | ç›®æ ‡ç±»å‹           | è§„åˆ™           |
| ------------------- | ------------------ | -------------- |
| æœ‰ç¬¦å·å‹            | æ— ç¬¦å·å‹           | å»æ‰ç¬¦å·       |
| æ•´å‹ï¼ˆé•¿ï¼‰          | æ•´å‹ï¼ˆçŸ­ï¼‰         | é«˜é˜¶ä½è¢«æˆªæ–­   |
| æ•´å‹ï¼ˆçŸ­ï¼‰          | æ•´å‹ï¼ˆé•¿ï¼‰         | é«˜é˜¶ä½è¢«å¡«å……   |
| å›ºå®šå­—èŠ‚æ•°ç»„ï¼ˆé•¿ï¼‰  | å›ºå®šå­—èŠ‚æ•°ç»„ï¼ˆçŸ­ï¼‰ | åˆ‡æ–­å³ä¾§åºåˆ—   |
| å›ºå®šå­—èŠ‚æ•°ç»„ï¼ˆçŸ­ï¼‰  | å›ºå®šå­—èŠ‚æ•°ç»„ï¼ˆé•¿ï¼‰ | å¡«å……å³ä¾§åºåˆ—   |
| å›ºå®šå­—èŠ‚æ•°ç»„        | æ•´å‹               | å¿…é¡»è¦é•¿åº¦ç›¸åŒ |
| å­—èŠ‚æ•°ç»„/åˆ‡ç‰‡ï¼ˆé•¿ï¼‰ | å›ºå®šå­—èŠ‚æ•°ç»„ï¼ˆçŸ­ï¼‰ | æˆªæ–­å³ä¾§åºåˆ—   |
| å­—èŠ‚æ•°ç»„/åˆ‡ç‰‡ï¼ˆçŸ­ï¼‰ | å›ºå®šå­—èŠ‚æ•°ç»„ï¼ˆé•¿ï¼‰ | å¡«å……å³ä¾§åºåˆ—   |

ä¾‹ï¼Œæ˜¾å¼è½¬åŒ–ï¼š

```solidity
int i1  = -3;
uint i2 = uint(i1); // i2 = 3

uint32 u1 = 0x12345678;
uint16 u2 = uint16(u1); // u2 = 0x5678
uint32 u3 = uint32(u2); // u3 = 0x00005678

bytes2 b2 = 0x1234;
bytes1 b1 = bytes1(b2); // b1 = 0x12
bytes4 b4 = bytes4(b2); // b4 = 0x12340000

bytes2 bi2 = 0x1234;
uint32 i1 = uint16(bi2);         // i1 = 0x00001234
uint32 i2 = uint32(bytes4(bi2)); // i2 = 0x12340000
uint8  i3 = uint8(uint16(bi2));  // i3 = 0x34
uint8  i4 = uint8(bytes1(bi2));  // i4 = 0x12

bytes b = "abcdefgh";
bytes calldata c = "abcdefgh";
bytes16 b16 = bytes16(b);    // b16 = "abcdefgh\0\0\0\0\0\0\0\0"
bytes3  b3  = bytes3(b);     // b3  = "abc"
bytes3  b4  = bytes3(c[:3]); // b4  = "abc\0"
```

#### å¸¸é‡å’Œä¸å¯å˜å˜é‡

å˜é‡è¢«å£°æ˜ä¸ºä»¥ä¸‹ä¸¤ç§ç±»å‹ä¹‹ä¸€æ—¶ï¼Œåœ¨åˆçº¦æ„å»ºåä¸èƒ½è¢«ä¿®æ”¹ï¼š

- `constant` å€¼å¿…é¡»åœ¨ç¼–è¯‘æ—¶å›ºå®šï¼›
- `immutable` å…è®¸åœ¨æ„é€ æ—¶èµ‹å€¼ã€‚

ä¾‹ï¼š

```solidity
contract C {
	string constant TEXT = "abc";
	uint immutable u;
	
	constructor(uint x) {
		u = x;
	}
}
```

### æ“ä½œç¬¦

#### åŸºæœ¬è¿ç®—

| è¿ç®—                 | è¯´æ˜   |
| -------------------- | ------ |
| `+, ++, +=`          | åŠ      |
| `-, --, -=`          | å‡     |
| `*, **(å¹³æ–¹), *=`    | ä¹˜     |
| `/, /=`              | é™¤     |
| `%, |, &, ^, <<, >>` | ä½è¿ç®— |

#### ä¸‰å…ƒè¿ç®—

ä¸‰å…ƒè¿ç®—ç¬¦è¡¨è¾¾å¼ï¼š`<expression> ? <trueExpression> : <falseExpression>`ã€‚

ä¾‹ï¼š

```solidity
a == b ? 1 : 0;
```

### æšä¸¾

æšä¸¾å¯ç”¨äºåˆ›å»ºå…·æœ‰ä¸€ç»„æœ‰é™â€œå¸¸é‡å€¼â€çš„è‡ªå®šä¹‰ç±»å‹ã€‚

ä¾‹ï¼Œå®šä¹‰æšä¸¾ï¼š

```solidity
enum e { One, Two, Three } // å®šä¹‰æšä¸¾
e e1 = e.One; // ä½¿ç”¨æšä¸¾
```

### ç”¨æˆ·é‡å®šä¹‰ç±»å‹

ç”¨æˆ·å®šä¹‰çš„å€¼ç±»å‹å…è®¸åœ¨åŸºæœ¬å€¼ç±»å‹ä¸Šåˆ›å»ºé›¶æˆæœ¬æŠ½è±¡ï¼Œç±»ä¼¼äºåˆ«åã€‚

ä¾‹ï¼š

```solidity
type mytype is uint128;
```

### æ•°æ®åœ°å€

æ¯ä¸ªå¼•ç”¨ç±»å‹æ•°æ®ä½ç½®ä¿®é¥°ï¼š

- `storage` å¯¹æœ¬åœ°å­˜å‚¨å˜é‡çš„èµ‹å€¼åªåˆ†é…ä¸€ä¸ªå¼•ç”¨ï¼›
- `memory` å¯¹ä¸€ä¸ªå†…å­˜å˜é‡çš„æ›´æ”¹åœ¨å¼•ç”¨ç›¸åŒæ•°æ®çš„æ‰€æœ‰å…¶ä»–å†…å­˜å˜é‡ä¸­ä¹Ÿå¯è§ï¼›
- `calldata` ç‹¬ç«‹çš„å‰¯æœ¬ï¼Œå§‹ç»ˆå¤åˆ¶ã€‚

ä¾‹ï¼š

```solidity
function fn(uint[] memory arr1) public {
	uint[] storage arr2 = arr1;
	uint[] calldata arr3 = arr1;
}
```

### å‡½æ•°

#### åˆ†ç±»

- å†…éƒ¨å‡½æ•°ï¼šåœ¨åˆçº¦å†…éƒ¨å®šä¹‰çš„å‡½æ•°ï¼›
- å¤–éƒ¨å‡½æ•°ï¼šåœ¨åˆçº¦å¤–éƒ¨å®šä¹‰çš„å‡½æ•°ã€‚

#### å®šä¹‰

`function(<parameter types>){internal|external}[pure|view|payable][returns(<return types>)]`

- `parameter types` å‚æ•°

  å‡½æ•°å‚æ•°çš„å£°æ˜æ–¹å¼ä¸å˜é‡ç›¸åŒï¼Œæœªä½¿ç”¨çš„å‚æ•°åç§°å¯ä»¥çœç•¥ã€‚

- `internal|external`å†…éƒ¨/å¤–éƒ¨å‡½æ•°æ ‡è¯†

- `pure|view|payable` çŠ¶æ€å¯å˜æ€§

  | çŠ¶æ€å¯å˜æ€§ | å¯è½¬æ¢æˆçš„å‡½æ•°          | è¯´æ˜                           |
  | ---------- | ----------------------- | ------------------------------ |
  | pure       | `view`<br>`non-payable` | çº¯å‡½æ•°ï¼Œæ‰¿è¯ºä¸è¯»å–æˆ–ä¿®æ”¹çŠ¶æ€ã€‚ |
  | view       | `non-payable`           | æ‰¿è¯ºä¸ä¿®æ”¹çŠ¶æ€ã€‚               |
  | payable    | `non-payable`           | æ¥æ”¶ä»¥å¤ªåŠŸèƒ½ï¼ˆæ”¶å¸ï¼‰ã€‚         |
  
  è¯»å–çŠ¶æ€çš„å®šä¹‰ï¼š
  
  1. ä»çŠ¶æ€å˜é‡ä¸­è¯»å–ï¼›
  2. è®¿é—®`address(this).balance`æˆ–`<address>.balance`ï¼›
  3. TODOï¼›
  4. è°ƒç”¨ä»»ä½•æœªæ ‡è®°`pure`çš„å‡½æ•°ï¼›
  5. ä½¿ç”¨åŒ…å«æŸäº›æ“ä½œç çš„å†…è”æ±‡ç¼–ã€‚
  
  ä¿®æ”¹çŠ¶æ€çš„å®šä¹‰ï¼š
  
  1. å†™å…¥çŠ¶æ€å˜é‡ï¼›
  2. å‘å°„äº‹ä»¶ï¼›
  3. åˆ›å»ºå…¶å®ƒåˆåŒï¼›
  4. ä½¿ç”¨`selfdestruct`ï¼›
  5. é€šè¿‡è°ƒç”¨å‘é€ä»¥å¤ªå¸ï¼›
  6. è°ƒç”¨ä»»ä½•æœªæ ‡è®°`view`æˆ–`pure`çš„å‡½æ•°ï¼›
  7. ä½¿ç”¨ä½çº§è°ƒç”¨ï¼›
  8. ä½¿ç”¨åŒ…å«æŸäº›æ“ä½œç çš„å†…è”æ±‡ç¼–ã€‚
  
- `return types` è¿”å›å€¼

  è¿”å›å€¼çš„åç§°å¯ä»¥çœç•¥ã€‚

ä¾‹ï¼Œå®šä¹‰å‡½æ•°ï¼š

```solidity
contract c {
	function fn1() internal payable returns(bytes4) {...}
}
c c1;
c1.fn1();

function fn2(uint x) public pure returns(uint) {...}
```

#### é‡è½½

ä¸€ä¸ªåˆçº¦å¯ä»¥æœ‰å¤šä¸ªåŒåä½†å‚æ•°ç±»å‹ä¸åŒçš„å‡½æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œé‡è½½â€ã€‚

ä¾‹ï¼š

```solidity
// å†…éƒ¨å‡½æ•°é‡è½½
contract C {
	function f(uint value) public pure returns(uint out) { ... }
	function f(uint value, bool b) public pure returns(uint out) {...} 
}

// å¤–éƒ¨å‡½æ•°é‡è½½
TODO
```

#### è°ƒç”¨

solidityæ”¯æŒé€’å½’è°ƒç”¨ï¼Œä½†æ˜¯å»ºè®®å°½é‡é¿å…ä½¿ç”¨é€’å½’è°ƒç”¨ï¼Œå› ä¸ºæ¯ä¸ªå†…éƒ¨å‡½æ•°è°ƒç”¨è‡³å°‘ä½¿ç”¨ä¸€ä¸ªå †æ ˆæ§½å¹¶ä¸”æœ€å¤šåªæœ‰1024ä¸ªå¯ç”¨æ§½ã€‚

solidityä¹Ÿæ”¯æŒå¤–éƒ¨è°ƒç”¨ï¼Œå¦‚æœè¢«è°ƒç”¨åˆçº¦æœ¬èº«æŠ›å‡ºå¼‚å¸¸æˆ–è€…gasè€—å°½ï¼Œå‡½æ•°è°ƒç”¨ä¹Ÿä¼šå¯¼è‡´å¼‚å¸¸ã€‚

ä¾‹ï¼Œé€’å½’è°ƒç”¨å‡½æ•°ï¼š

```solidity
contract c {
	function fn() internal pure returns (uint ret) { return fn();}
}
```

#### å‡½æ•°ä¿®é¥°ç¬¦

å‡½æ•°ä¿®é¥°ç¬¦å¯ç”¨äºä»¥å£°æ˜æ–¹å¼æ›´æ”¹å‡½æ•°çš„è¡Œä¸ºï¼›ä¿®é¥°ç¬¦æ˜¯åˆçº¦çš„å¯ç»§æ‰¿å±æ€§ï¼Œå¯ä»¥è¢«æ´¾ç”Ÿåˆçº¦è¦†ç›–ï¼ˆä»…é™äºè¢«æ ‡è®°ä¸ºvirtualçš„ä¿®é¥°ç¬¦ï¼‰ã€‚

ä¾‹ï¼š

```solidity
constract father {
	modifier fn1 {...}
}
constract son is father {
	function fn2() public fn1 {...}
}
```

#### è¿”å›å€¼

TODO

### äº‹ä»¶

Solidity äº‹ä»¶åœ¨ EVM çš„æ—¥å¿—è®°å½•åŠŸèƒ½ä¹‹ä¸Šæä¾›äº†ä¸€ä¸ªæŠ½è±¡ï¼›åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ä»¥å¤ªåŠå®¢æˆ·ç«¯çš„ RPC æ¥å£è®¢é˜…å’Œç›‘å¬è¿™äº›äº‹ä»¶ã€‚

ä¾‹ï¼Œä½¿ç”¨äº‹ä»¶ï¼š

```solidity
contract c {
	event fn1(...); // å®šä¹‰äº‹ä»¶
	function fn2() public payable {
		emit fn1(...); // è§¦å‘äº‹ä»¶
	}
}
```

### é”™è¯¯å¤„ç†

é”™è¯¯å…è®¸ä¸ºæ•…éšœæƒ…å†µå®šä¹‰æè¿°æ€§åç§°å’Œæ•°æ®ï¼Œå¯ç”¨äºè¿˜åŸè¯­å¥ã€‚

ä¾‹ï¼Œå®šä¹‰é”™è¯¯ï¼š

```solidity
error Fail(...); // å®šä¹‰é”™è¯¯
```

#### æ–­è¨€

`assert`ï¼ˆæ–­è¨€ï¼‰ç”¨äºæ£€æŸ¥æ¡ä»¶ä¸æ»¡è¶³æ—¶æŠ›å‡ºå¼‚å¸¸ï¼Œåªèƒ½ç”¨äºæµ‹è¯•å†…éƒ¨é”™è¯¯ï¼Œæ­£å¸¸è¿è¡Œçš„ä»£ç ä¸åº”è¯¥é€ æˆpanicã€‚

ä¾‹ï¼š

```solidity

```

#### è¦æ±‚

`require`ï¼ˆè¦æ±‚ï¼‰ç”¨äºç¡®ä¿åœ¨æ‰§è¡Œä¹‹å‰æ— æ³•æ£€æµ‹åˆ°çš„æœ‰æ•ˆæ¡ä»¶ã€‚

ä¾‹ï¼Œrequireç»“åˆtry catchä½¿ç”¨ï¼š

```solidity
uint n;
C c;
function fn(address addr) returns (uint balance) {
	require(n % 2 == 0, "even value required.");
	
	try c.get(addr) return (string back) { // try catch
		...
	} catch Error(string reason) {
		n++;
		...
	} catch Panic(uint errorcode) {
		n++;
		...
	} catch(bytes memory lowLevelData) {
		n++;
		...
	} catch {
		n++;
		...
	}
}
```

#### è¿˜åŸ

Solidity ä½¿ç”¨çŠ¶æ€æ¢å¤å¼‚å¸¸æ¥å¤„ç†é”™è¯¯ã€‚è¿™æ ·çš„å¼‚å¸¸ä¼šæ’¤æ¶ˆå¯¹å½“å‰è°ƒç”¨ï¼ˆåŠå…¶æ‰€æœ‰å­è°ƒç”¨ï¼‰ä¸­çŠ¶æ€æ‰€åšçš„æ‰€æœ‰æ›´æ”¹ï¼Œå¹¶å‘è°ƒç”¨è€…æ ‡è®°é”™è¯¯ã€‚

#### å¼‚å¸¸

TODO

### åˆ é™¤

åˆ é™¤`delete`ç”¨äºé‡ç½®å˜é‡çš„åˆå§‹å€¼ï¼Œå¯¹æ˜ å°„çš„é”®æ— æ•ˆï¼ˆå› ä¸ºæ˜ å°„çš„é”®æ˜¯ä»»æ„çš„ï¼Œæ— æ³•è®¾ç½®åˆå§‹å€¼ï¼Œåªèƒ½**åˆ é™¤**å•ä¸ªé”®åŠå…¶å¯¹åº”çš„å€¼ï¼‰ã€‚

ä¾‹ï¼š

```solidity
uint i = 1;
uint[] arr1  = [1, 2, 3];
uint[3] arr2 = [1, 2, 3];

delete i;      // i = 0
delete arr1[]; // arr1 = []
delete arr2[]; // arr2 = [0, 0, 0] 
```

---



## é¢å‘å¯¹è±¡

### ç»“æ„ä½“

ç»“æ„æ˜¯è‡ªå®šä¹‰å®šä¹‰çš„ç±»å‹ï¼Œå¯ä»¥å¯¹å¤šä¸ªå˜é‡è¿›è¡Œåˆ†ç»„ã€‚

ä¾‹ï¼Œå®šä¹‰ç»“æ„ä½“ï¼š

```solidity
struct info { // å®šä¹‰ç»“æ„ä½“
	uint xx;
	function fn(uint n) public payable {
		...
	}
	...
}
```

### åˆçº¦

#### å˜é‡å¯è§æ€§

| å˜é‡å¯è§æ€§ | è¯´æ˜                                                         |
| ---------- | ------------------------------------------------------------ |
| public     | å…¬å…±çŠ¶æ€å˜é‡ï¼›ç¼–è¯‘å™¨ä¼šä½å˜é‡è‡ªåŠ¨ç”Ÿæˆ`getter`å‡½æ•°ï¼Œä»è€Œå…è®¸å…¶å®ƒåˆçº¦è¯»å–è¯¥å˜é‡çš„å€¼ã€‚ä½†æ˜¯ä¸ç”Ÿæˆ`setter`å‡½æ•°ï¼Œä»è€Œç¦æ­¢å…¶å®ƒåˆçº¦ç›´æ¥ä¿®æ”¹å˜é‡å€¼ã€‚ |
| internal   | å†…éƒ¨çŠ¶æ€å˜é‡ï¼ˆé»˜è®¤ï¼‰ï¼›åªèƒ½ä»å½“å‰åˆçº¦æˆ–æ´¾ç”Ÿçš„åˆçº¦ä¸­è®¿é—®ï¼Œæ— æ³•è¢«å¤–éƒ¨è®¿é—®ã€‚ |
| private    | ç§æœ‰çŠ¶æ€å˜é‡ï¼›ç±»ä¼¼äº`internal`ï¼Œä½†æ˜¯åœ¨æ´¾ç”Ÿåˆçº¦ä¸­ä¸å¯è§ã€‚     |

#### åŠŸèƒ½å¯è§æ€§

| åŠŸèƒ½å¯è§æ€§ | è¯´æ˜                                                         |
| ---------- | ------------------------------------------------------------ |
| external   | å¤–éƒ¨å‡½æ•°ï¼›å¯ä»¥ä»å…¶å®ƒåˆçº¦å’Œäº¤æ˜“ä¸­è°ƒç”¨ã€‚                       |
| public     | å…¬å…±å‡½æ•°ï¼›å¯ä»¥åœ¨å†…éƒ¨è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ¶ˆæ¯è°ƒç”¨ã€‚               |
| internal   | å†…éƒ¨å‡½æ•°ï¼›åªèƒ½ä»å½“å‰åˆçº¦æˆ–æ´¾ç”Ÿçš„åˆçº¦ä¸­è®¿é—®ï¼Œä¸èƒ½è¢«å¤–éƒ¨è®¿é—®ã€‚ |
| private    | ç§æœ‰å‡½æ•°ï¼›ç±»ä¼¼äº`internal`ï¼Œä½†æ˜¯åœ¨æ´¾ç”Ÿåˆçº¦ä¸­ä¸å¯è§ã€‚         |

#### æ„é€ å‡½æ•°

æ„é€ å‡½æ•°ç”¨äºåœ¨åˆ›å»ºåˆçº¦æ—¶æ‰§è¡Œä¸€äº›åˆå§‹åŒ–åŠ¨ä½œï¼›æ„é€ å‡½æ•°æ˜¯å¯é€‰çš„ï¼Œå¹¶ä¸”ä¸æ”¯æŒé‡è½½ï¼›å¦‚æœæ²¡æœ‰æ„é€ å‡½æ•°ï¼Œåˆçº¦å°†å‡å®šé»˜è®¤çš„æ„é€ å‡½æ•°`constructor(){}`ã€‚

å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨å†…éƒ¨å‚æ•°ï¼ˆå¦‚ï¼šå­˜å‚¨æŒ‡é’ˆï¼‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¿…é¡»å°†åˆçº¦æ ‡è®°ä¸º`abstract`ï¼›å› ä¸ºè¿™äº›å‚æ•°ä¸èƒ½ä»å¤–éƒ¨åˆ†é…æœ‰æ•ˆå€¼ï¼Œåªèƒ½é€šè¿‡æ´¾ç”Ÿåˆçº¦çš„æ„é€ å‡½æ•°åˆ†é…ã€‚

ä¾‹ï¼š

```solidity
abstract contract father {
	uint public a;
	constractor(uint a_) { a = a_; }
}
contract son1 is father {
	constructor(uint a_) father(a_) {}
}
contract son2 is father(2) {
	constructor(){}
}
```

#### åˆ›å»º

åˆ›å»ºåˆçº¦çš„å‡ ç§æ–¹æ³•ï¼š

- `é€šè¿‡newåˆ›å»ºåˆçº¦`
- `åŠ ç›åˆçº¦åˆ›å»º`

ä¾‹ï¼Œåˆ›å»ºåˆçº¦ï¼š

```solidity
contract C {
	uint public id;
	constructor(uint a) payable { id = a; }
}

C c1 = new C(1); // é€šè¿‡newåˆ›å»ºåˆçº¦
C C2 = new C{value: 100}(1); // é€šè¿‡newåˆ›å»ºåˆçº¦ï¼Œåˆ›å»ºæ—¶æŒ‡å®šetherçš„æ•°é‡100

C c3 = new C{salt: "xx..."}(1); // åˆ›å»ºåˆçº¦æ—¶åŠ ç›
```

### ç»§æ‰¿

Solidity æ”¯æŒå¤šé‡ç»§æ‰¿ï¼ŒåŒ…æ‹¬å¤šæ€æ€§ã€‚

æ³¨æ„äº‹é¡¹ï¼š

1. è¦†ç›–çˆ¶ç±»çš„å‡½æ•°æ—¶ï¼Œä½¿ç”¨`override`å…³é”®å­—æ˜¾å¼è¯´æ˜ï¼ˆ0.8.8ç‰ˆä»¥åå¯ä»¥ä¸ç”¨æ˜¾å¼è¯´æ˜ï¼‰ï¼›
2. å¯¹äºéœ€è¦è¢«è¦†ç›–çš„å‡½æ•°ï¼Œä½¿ç”¨`virtual`å…³é”®å­—æ˜¾å¼è¯´æ˜ï¼›
3. åœ¨å¤šé‡åŸºå±‚çš„æƒ…å†µä¸‹ï¼Œå¿…é¡»æ˜ç¡®æŒ‡å®šæ‰€æœ‰ç›´æ¥åŸºç¡€åˆçº¦ã€‚

ä¾‹ï¼Œå¤šç»§æ‰¿ï¼š

```solidity
contract father {
	address payable addr;
	function fn1() virtual public {...}
	modifier fn2() virtual {_;}
}
contract son is fater {
	function fn1() virtual public override {...}
	modifier fn2() virtual {_;}
}
contract grandson is father, son {
	modifier fn2() override(father, son) {_;}
}
```

ä¾‹ï¼Œä¿®æ”¹å™¨è¦†ç›–ï¼š

```solidity
contract father {
	modifier fn() virtual{_;}
}
contract son is father {
	modifier fn() override {_;}
}
```

### æŠ½è±¡

å½“åˆçº¦æœ‰è‡³å°‘ä¸€ä¸ªåŠŸèƒ½æœªå®ç°æ—¶ï¼Œéœ€è¦å°†åˆçº¦æ ‡è®°ä¸ºæŠ½è±¡ï¼ˆç±»ä¼¼äºC++çš„è™šç±»ï¼‰ï¼›æŠ½è±¡åˆçº¦ä½¿ç”¨`abstract`å…³é”®å­—å£°æ˜ã€‚

æ³¨æ„ï¼š

1. æŠ½è±¡åˆçº¦ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ï¼›
2. å¦‚æœåˆçº¦ç»§æ‰¿è‡ªæŠ½è±¡åˆçº¦ï¼Œå¹¶ä¸”æ²¡æœ‰é€šè¿‡è‚¡æ”¹å®ç°æ‰€æœ‰æœªå®ç°çš„åŠŸèƒ½ï¼Œåˆ™ä¹Ÿéœ€è¦å°†å…¶æ ‡è®°ä¸ºæŠ½è±¡ã€‚

ä¾‹ï¼š

```solidity
abstract contract v { // æŠ½è±¡åˆçº¦
	function fn() public virtual returns(bytes32);
}
abstract contract subv is interf{ // ç»§æ‰¿æŠ½è±¡åˆçº¦
}
contract impl is v { // ç»§æ‰¿æŠ½è±¡åˆçº¦
	function fn() public pure override returns(bytes32){...}
}
```

### æ¥å£

æ¥å£ï¼ˆç±»ä¼¼äºC++çš„çº¯è™šç±»ï¼‰ä¸æŠ½è±¡ç±»ç›¸ä¼¼ï¼Œä½¿ç”¨`interface`å…³é”®å­—å£°æ˜ï¼Œå¹¶ä¸”æœ‰ä»¥ä¸‹é™åˆ¶ï¼š

1. ä¸èƒ½ä»å…¶å®ƒåˆçº¦ç»§æ‰¿ï¼Œä½†å¯ä»¥ä»å…¶å®ƒæ¥å£ç»§æ‰¿ï¼›
2. æ‰€æœ‰å£°æ˜çš„å‡½æ•°åœ¨æ¥å£ä¸­å¿…é¡»æ˜¯å¤–éƒ¨çš„ï¼Œå³ä½¿å®ƒä»¬åœ¨åˆçº¦ä¸­æ˜¯å…¬å…±çš„ï¼›
3. ä¸èƒ½å£°æ˜æ„é€ å‡½æ•°ï¼›
4. ä¸èƒ½å£°æ˜çŠ¶æ€å˜é‡ï¼›
5. ä¸èƒ½å£°æ˜ä¿®é¥°ç¬¦ï¼›
6. ä¸èƒ½å®ç°ä»»ä½•åŠŸèƒ½ã€‚

ä¾‹ï¼š

```solidity
interface intf {
	enum e{One, Two}
	struct Coin{string obverse; string reverse; }
	function transfer(address recipient, uint amount) external;
}
```

### å†…å­˜å¸ƒå±€

TODO

### åº“

TODO

---



## ç³»ç»ŸAPI

### å—å’Œäº‹åŠ¡å±æ€§

- `blockhash(uint blockNumber) returns (bytes32)` å½“blocknumberæ˜¯256ä¸ªæœ€è¿‘çš„å—ä¹‹ä¸€æ—¶ï¼Œè¿”å›ç»™å®šå—çš„å“ˆå¸Œå€¼ï¼›å¦åˆ™ï¼Œè¿”å›0ã€‚
- `block.basefee(uint)` å½“å‰åŒºå—çš„åŸºæœ¬è´¹ç”¨ã€‚
- `block.chainid(uint)` å½“å‰é“¾idã€‚
- `block.coinbase()` å½“å‰åŒºå—çŸ¿å·¥åœ°å€ã€‚
- `block.difficulty(uint)` å½“å‰åŒºå—éš¾åº¦ã€‚
- `block.gaslimit(uint)` å½“å‰åŒºå—gasé™åˆ¶ã€‚
- `block.number(uint)` å½“å‰åŒºå—å·ã€‚
- `block.timestamp(uint)` å½“å‰åŒºå—æ—¶é—´æˆ³ï¼Œè‡ªunixçºªå…ƒä»¥æ¥çš„ç§’æ•°ã€‚
- `gasleft() returns(uint256)` å‰©ä½™æ°”ä½“ã€‚
- `msg.data()` å®Œæ•´çš„é€šè¯æ•°æ®ã€‚
- `msg.sender(address)` æ¶ˆæ¯çš„å‘é€è€…ã€‚
- `msg.sig(bytes4)` calldataçš„å‰4ä¸ªå­—èŠ‚ã€‚
- `msg.value(uint)` éšæ¶ˆæ¯å‘é€çš„`wei`æ•°é‡ã€‚
- `tx.gasprice(uint)` äº¤æ˜“çš„gasä»·æ ¼ã€‚
- `tx.origin(address)` äº¤æ˜“çš„å‘é€è€…ã€‚

### ABIç¼–ç å’Œè§£ç å‡½æ•°

- `abi.decode(bytes memory encodedData, (...)) returns (...)` ABIè§£ç ç»™å®šçš„æ•°æ®ï¼Œç±»å‹åœ¨æ‹¬å·ä¸­ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ç»™å‡ºã€‚
- `abi.encode(...) returns (bytes memory)` ABIç¼–ç ç»™å®šçš„å‚æ•°ã€‚
- `abi.encodePacked(...) returns(byte memory)` å¯¹ç»™å®šå‚æ•°æ‰§è¡Œæ‰“åŒ…ç¼–ç ã€‚
- `abi.encodeWithSelector(bytes selector, ...) returns(bytes memory)` ABIä»ç¬¬äºŒä¸ªå¼€å§‹å¯¹ç»™å®šçš„å‚æ•°è¿›è¡Œç¼–ç ï¼Œå¹¶å°†ç»™å®šçš„å››å­—èŠ‚é€‰æ‹©å™¨æ”¾åœ¨å‰é¢ã€‚
- `abi.encodeWithSignature(string memory signature, ...) return(bytes memory)` ç­‰ä»·äº`abi.encodeWithSelector(bytes4(keccak256(bytes(signature))), ...)`
- `abi.encodeCall(function functionPointer, (...)) returns(bytes memory)functionPointer` ABIä½¿ç”¨å…ƒç»„ä¸­çš„å‚æ•°å¯¹è°ƒç”¨è¿›è¡Œç¼–ç ï¼›æ‰§è¡Œå®Œæ•´çš„ç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿ç±»å‹ä¸å‡½æ•°ç­¾ååŒ¹é…ã€‚

### å­—èŠ‚æˆå‘˜

- `bytes.concat(...) returns(bytes memory)` å°†å¯å˜æ•°é‡çš„å­—èŠ‚å’Œbyte1, ..., bytes32å‚æ•°è¿æ¥åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„ã€‚

### å­—ç¬¦ä¸²æˆå‘˜

- `string.concat(...) returns(string memory)` å°†å¯å˜æ•°é‡çš„å­—ç¬¦ä¸²å‚æ•°è¿æ¥åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚

### é”™è¯¯å¤„ç†

- `assert(bool condition)` å¦‚æœæ¡ä»¶ä¸æ»¡è¶³ï¼Œåˆ™ä¼šå¯¼è‡´Panicé”™è¯¯å¹¶å› æ­¤çŠ¶æ€æ›´æ”¹æ¢å¤ï¼ˆç”¨äºå†…éƒ¨é”™è¯¯ï¼‰ã€‚
- `require(bool condition)` å¦‚æœæ¡ä»¶ä¸æ»¡è¶³ï¼Œåˆ™æ¢å¤ï¼ˆç”¨äºè¾“å…¥æˆ–å¤–éƒ¨ç»„ä»¶ä¸­çš„é”™è¯¯ï¼‰ã€‚
- `require(bool condition, string memory message)` å¦‚æœæ¡ä»¶ä¸æ»¡è¶³ï¼Œåˆ™æ¢å¤ï¼ˆç”¨äºè¾“å…¥æˆ–å¤–éƒ¨ç»„ä»¶ä¸­çš„é”™è¯¯ï¼Œå¹¶æä¾›é”™è¯¯ä¿¡æ¯ï¼‰ã€‚
- `revert()` ä¸­æ­¢æ‰§è¡Œå¹¶æ¢å¤çŠ¶æ€æ›´æ”¹ã€‚
- `revert(string memory reason)` ç»ˆæ­¢æ‰§è¡Œå¹¶æ¢å¤çŠ¶æ€æ›´æ”¹ï¼Œæä¾›è§£é‡Šæ€§å­—ç¬¦ä¸²ã€‚

### æ•°å­¦å’Œå¯†ç å‡½æ•°

- `addmod(uint x, uint y, uint k) returns(uint)` TODOã€‚
- `mulmod(uint x, uint y, uint k) returns(uint)` TODOã€‚
- `keccak256(bytes memory) returns(bytes32)` TODOã€‚
- `sha256(bytes memory) returns(bytes32)` è®¡ç®—SHA-256å“ˆå¸Œã€‚
- `ripemd160(bytes memory) returns(bytes20)` è®¡ç®—RIPEMD-160å“ˆå¸Œã€‚
- `ecrecover(bytes32 hash, uint8 v, bytes 32 r, bytes 32 s) returns(address)` ä»æ¤­åœ†æ›²çº¿ç­¾åä¸­æ¢å¤ä¸å…¬é’¥å…³è”çš„åœ°å€æˆ–åœ¨é”™è¯¯æ—¶è¿”å›0
  - `r` ç­¾åçš„å‰32ä¸ªå­—èŠ‚ï¼›
  - `s` ç¬¬äºŒä¸ª32å­—èŠ‚çš„ç­¾åï¼›
  - `v` ç­¾åçš„æœ€å1ä¸ªå­—èŠ‚ã€‚

### åœ°å€ç±»å‹æˆå‘˜

- `<address>.balance(uint256)` åœ°å€ä½™é¢ã€‚
- `<address>.code() bytes memory` åœ°å€çš„ä»£ç ï¼ˆå¯ç©ºï¼‰ã€‚
- `<address>.codehash` åœ°å€çš„ä»£ç å“ˆå¸Œã€‚
- `<address payable>.transfer(uint256 amount)` å°†ç»™å®šæ•°é‡çš„weiå‘é€åˆ°addressï¼›å¤±è´¥æ—¶æ¢å¤ï¼Œè½¬å‘2300gasæ´¥è´´ï¼Œä¸å¯è°ƒæ•´ã€‚
- `<address>.send(uint256 amount) returns(bool)` å‘é€ç»™å®šæ•°é‡çš„weiåˆ°åœ°å€ï¼›å¤±è´¥è¿”å›ï¼Œè½¬å‘2300gasæ´¥è´´ï¼Œä¸å¯è°ƒæ•´ã€‚
- `<address>.call(bytes memory) returns(bool, bytes memory)` ä½¿ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·å‘å‡ºä½çº§`CALL`ï¼›è¿”å›æˆåŠŸæ¡ä»¶å’Œè¿”å›æ•°æ®ï¼Œè½¬å‘æ‰€æœ‰å¯ç”¨çš„çš„gasï¼Œå¯è°ƒæ•´ã€‚
- `<address>.delegatecall(bytes memory) returns(bool,, bytes memory)` ä½¿ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·å‘å‡ºä½çº§`DELEGATECALL`ï¼Œè¿”å›æˆåŠŸæ¡ä»¶å’Œè¿”å›æ•°æ®ï¼Œè½¬å‘æ‰€æœ‰å¯ç”¨çš„gasï¼Œå¯è°ƒæ•´ã€‚
- `<address>.staticcall(bytes memory) returns(bool, bytes memory)` ä½¿ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·å‘å‡ºä½çº§`STATICCALL`ï¼Œè¿”å›æˆåŠŸæ¡ä»¶å’Œè¿”å›æ•°æ®ï¼Œè½¬å‘æ‰€æœ‰å¯ç”¨çš„gasï¼Œå¯è°ƒæ•´ã€‚

### åˆçº¦ç›¸å…³

- `this` å½“å‰åˆçº¦ï¼ˆå¯æ˜¾å¼è½¬æ¢ä¸ºåœ°å€ï¼‰ã€‚
- `selfdestruct(address payable recipient)` é”€æ¯å½“å‰åˆçº¦ï¼Œå°†å…¶èµ„é‡‘å‘é€åˆ°ç»™å®šåœ°å€å¹¶æ‰§è¡Œã€‚

### ç±»å‹ä¿¡æ¯

- `type(c).name` åˆåŒåç§°ã€‚
- `type(c).creationCode` åˆçº¦åˆ›å»ºå­—èŠ‚ç ã€‚
- `type(c).runtimeCode` åˆçº¦è¿è¡Œæ—¶å­—èŠ‚ç ã€‚
- `type(I).interfaceId` æ¥å£çš„EIP-165æ¥å£æ ‡è¯†ç¬¦çš„å€¼ã€‚
- `type(T).min` æœ€å°å€¼ã€‚
- `type(T).max` æœ€å¤§å€¼ã€‚

---



## å‚è€ƒ

[1] [Solidity](https://www.osgeo.cn/solidity/index.html)

[2] [Solidity æ•™ç¨‹](https://www.w3cschool.cn/solidity/)

[3] [Gitbook Solidity](https://solidity-cn.readthedocs.io/zh/develop/)

[4] [solidityå®˜ç½‘](https://docs.soliditylang.org/en/latest/contracts.html#interfaces)
