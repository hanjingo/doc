# 附录B 并发库的简单比较

| 功能                       | Java                                                         | POSIX C                                                      | Boost threads                                                | C++11                                                        |
| -------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 启动线程                   | `java.lang.thread`类                                         | `pthread_t`类型和相关`API`函数:<br>- `pthread_create()`<br>- `pthread_detach()`<br>- `pthread_join()` | `boost::thread`类与成员函数                                  | `std::thread`类与成员函数                                    |
| 互斥                       | synchronized块                                               | `pthread_mutex_t`类型和相关`API`函数:<br>- `pthread_mutex_lock()`<br>- `pthread_mutex_unlock()` | `boost::mutex`类与成员函数:<br>- `boost::locak_guard<>`<br>- `boost::unique_lock<>`模板 | `std::mutex`类与成员函数，<br>`std::lock_guard<>`和<br>`std::unique_lock<>`模板 |
| 监控/等待预期              | `java.lang.Object`类的`wait()`和`notify()`方法，在synchronized块内使用 | `pthread_cond_t`类型与相关`API`函数：<br>-`pthread_wait()`<br>-`pthread_cond_timed_wait()` | `boost::condition_variable`和<br>`boost::condition_variable_any`<br>类与成员函数 | `std::condition_variable`<br>`std::condition_variable_any`类与成员函数 |
| 原子操作与并发感知内存模型 | volatile变量，位于`java.util.concurrent.atomic`包中          | 不可用                                                       | 不可用                                                       | `std::atomic_xxx`类型<br>`std::atomic<>`类模板<br>`std::atomic_thread_fence()`函数 |
| 线程安全容器               | `java.util.concurrent`包中的容器                             | 不可用                                                       | 不可用                                                       | 不可用                                                       |
| future                     | `java.util.concurrent.future`接口及相关类                    | 不可用                                                       | - `boost::unique_future<>`<br>- `boost::shared_future<>`类模板 | `std::future<>`,<br>`std::shared future<>`和<br>`std::atomic future<>`类模板 |
| 线程池                     | `java.util.concurrent.ThreadPoolExecutor`类                  | 不可用                                                       | 不可用                                                       | 不可用                                                       |
| 线程中断                   | `java.lang.Thread`的`interrupt()`方法                        | `pthread_cancel()`                                           | `boost::thread`类的`interrupt()`成员函数                     | 不可用                                                       |

