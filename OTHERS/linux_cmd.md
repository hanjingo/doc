# linux命令行手册

[TOC]



## 查看文件/目录

|命令|说明|选项|常用|
|:--|:--|:--|:--|
|tree|查看文件夹树形结构|-|`tree`:列出树状文件结构|
| ls   | 列出当前目录下的文件和文件夹 | - a 显示所有文件及目录（包括隐藏文件）<br>- l 除文件名外，文件类型，权限，大小等信息也列出来<br>- R 如果目录下面有文件，也列出来 | `ls -al`:列出所有的文件和文件夹(包括隐藏的); |
|find|查找文件|- name 查找指定名称的文件<br>- depth 先找当前目录的文件，再找子目录<br>- user 按照文件所属人来查找<br>- group 按照文件所属组来查找<br>- mtime -n +n 按照文件的更改时间来查找，-n表示距离现在n天以内的文件，+n表示距离现在n天以前的文件<br>- size n[c] 查找文件长度为n块(1块=512字节)的文件，带c时文件长度以字节计<br>- mount 查找时不跨越文件系统的挂载点<br>- exec 找到文件后执行shell命令<br>- ok 更安全版本的exec命令，每步都要确认|`find ~/tmp -name 1.txt` :在`~/tmp`目录下查找名为1.txt的文件<br>`find ~/tmp -mtime -3 +15 *.txt` :在`~/tmp`中查找3天内或15天前的txt文件<br>`find ~/tmp -size +1M` :查找`~/tmp`中大于1M的文件<br>`find ~/tmp -size +1M -a -size -1G` :查找`~/tmp`中大于1M小于1G的文件<br>`find ~/tmp -name 1.txt -exec rm {} \;` :查找`~/tmp`中名为1.txt的文件并删除|
|grep|查找文件内容|- ? 同时显示匹配行的上下?行<br>- c 只打印匹配的行数，不现实匹配的内容<br>- e 正则匹配<br>- h 不显示匹配的文件名前缀<br>- i 不区分大小写<br>- l 列出匹配到的文件清单<br>- n 在匹配的行前面打印行号|`grep -2 "hello" *.txt` :查找所有包含hello的txt文件，同时显示匹配行的上下2行<br>`grep -l "hello" *.txt` :查找所有包含hello的txt文件，并把他们的名字列出来|
|df|查看磁盘分区使用情况|- h 使用人类可读格式列出信息|`df -h`:显示磁盘使用情况;|
|du|查看目录/文件大小|- h 以高可读性列出信息<br>- s 仅列出总计<br>- D 列出符号链接指向的文件大小<br>- k 以kb为单位列出信息|`du -sh tmp`:以人类可读的方式显示tmp文件夹大小;|



## 复制，移动，删除文件和目录

| 命令 | 说明                                                   | 选项                                                         | 常用                                                         |
| ---- | ------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| scp  | 上传本地文件/文件夹到远程<br>远程下载文件/文件夹到本地 | - r 递归<br>- C 压缩<br> - q 静默<br>- v 详细<br>- l 带宽限制 | `scp -r 用户名@远程ip:远程路径 本地路径` ：从远程下载文件夹到本地<br>`scp -r 本地目录 用户名@远程ip:文件路径`：上传本地目录到远程 |



## 压缩, 解压

| 命令 | 说明                    | 选项                                                         | 常用                                                         |
| ---- | ----------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| tar  | `压缩/解压文件或文件夹` | - c 建立新的备份<br/>- z 以gzip命令处理文件<br/>- x 从备份文件中还原文件<br/>- v 显示执行的过程<br/>- f 指定备份文件<br>-t 列出备份文件的内容 | `tar -czvf 1.tar.gz 1.txt`: 将1.txt压缩为1.tar.gz<br>`tar -tzvf 1.tar.gz`: 列出压缩文件1.tar.gz的内容<br>`tar -xzvf 1.tar.gz`: 解压文件1.tar.gz |



## 运维和进程管理

|命令|说明|选项|常用|
|:--|:--|:--|:--|
|top|查看资源占用|-||
|htop|查看资源占用（彩色模式）|-|`htop`:查看当前资源占用|
|nohup|后台运行程序|-||
|screen|`分屏/共享屏`|- A 将所有的视窗都调整为目前终端机的大小<br>- d 将指定的screen作业离线<br>- h 指定视窗缓冲区行数<br>- r 恢复指定的离线screen作业<br>- x 恢复之前离线的screen作业<br>- S 指定screen作业名称<br>- ls 显示目前所有的screen作业|`screen`: 创建screen作业<br>`screen -S he`: 创建一个名叫he的screen作业<br>`<Ctrl+a+d>`: 离开当前screen作业(注意：此作业会继续保留)<br>`exit`: 直接退出当前作业，不保留<br>`screen -ls`: 列出所有的作业<br>`screen -x he`: 恢复一个名叫he的screen作业|
|kill|杀进程|- 9|`kill -9 1234`:使用最高等级杀id为1234的进程i；|



## 调试

|命令|说明|选项|常用|
|:--|:--|:--|:--|
|ldd|查看程序的依赖路径|-||
|which|查看命令的可执行文件路径|-||
|tail|查看日志|- f|tail -f 007.log:查看007.log这个文件最新的内容|



## 网络

|命令|说明|选项|常用|
|:--|:--|:--|:--|
|ifconfig|查看,设置网络接口属性|- down 关闭指定的网络设备<br>- up 开启指定的网络设备|`ifconfig eth0 down`: 禁用网卡eth0<br>`ifconfig eth0 up`: 启用网卡eth0|
|netstat|查看网络使用情况|- a 列出所有连线中的socket<br>- c 持续列出网络状态<br>- e 显示网络其它相关信息<br>- F 显示路由缓存<br>- i 显示网络界面信息表单<br>- l 显示监控中的服务器的socket<br>- n 直接使用IP地址,不通过域名服务器<br>- o 显示计时器<br>- p 显示正在使用socket的程序识别码和程序名称<br>- t 显示tcp的连线状况<br/>- u 显示udp的连线状况|`netstat -tunlp | grep 10086`:查看端口10086占用情况;<br>`netstat -i`: 显示网卡列表<br>`netstat -nu`: 显示udp连接情况<br>`netstat -apu`: 显示udp端口使用情况<br>|
|          |                  |           |                                                     |



## 系统

|命令|说明|选项|常用|
|:--|:--|:--|:--|
|uname|查看内核/操作系统/CPU信息|-||
|source|使设置生效|-|`source /etc/profile`:让profile配置生效|
|su|切换账户|-|`su he`:切换到账户he|