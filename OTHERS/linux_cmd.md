# linux命令行手册

[TOC]



## 查看文件/目录

|命令|说明|选项|常用|
|:--|:--|:--|:--|
|tree|查看文件夹树形结构|-|`tree`:列出树状文件结构|
| ls   | 列出当前目录下的文件和文件夹 | - a 显示所有文件及目录（包括隐藏文件）<br>- l 除文件名外，文件类型，权限，大小等信息也列出来<br>- R 如果目录下面有文件，也列出来 | `ls -al`:列出所有的文件和文件夹(包括隐藏的); |
|find|查找文件|- name 查找指定名称的文件<br>- depth 先找当前目录的文件，再找子目录<br>- user 按照文件所属人来查找<br>- group 按照文件所属组来查找<br>- mtime -n +n 按照文件的更改时间来查找，-n表示距离现在n天以内的文件，+n表示距离现在n天以前的文件<br>- size n[c] 查找文件长度为n块(1块=512字节)的文件，带c时文件长度以字节计<br>- mount 查找时不跨越文件系统的挂载点<br>- exec 找到文件后执行shell命令<br>- ok 更安全版本的exec命令，每步都要确认|`find ~/tmp -name 1.txt` :在`~/tmp`目录下查找名为1.txt的文件<br>`find ~/tmp -mtime -3 +15 *.txt` :在`~/tmp`中查找3天内或15天前的txt文件<br>`find ~/tmp -size +1M` :查找`~/tmp`中大于1M的文件<br>`find ~/tmp -size +1M -a -size -1G` :查找`~/tmp`中大于1M小于1G的文件<br>`find ~/tmp -name 1.txt -exec rm {} \;` :查找`~/tmp`中名为1.txt的文件并删除|
|grep|查找文件内容|- ? 同时显示匹配行的上下?行<br>- c 只打印匹配的行数，不现实匹配的内容<br>- e 正则匹配<br>- h 不显示匹配的文件名前缀<br>- i 不区分大小写<br>- l 列出匹配到的文件清单<br>- n 在匹配的行前面打印行号|`grep -2 "hello" *.txt` :查找所有包含hello的txt文件，同时显示匹配行的上下2行<br>`grep -l "hello" *.txt` :查找所有包含hello的txt文件，并把他们的名字列出来|
|df|查看磁盘分区使用情况|h|`df -h`:显示磁盘使用情况;|
|du|查看目录/文件大小|h|`du -h`:以人类可读的方式显示文件/文件夹大小;|



## 复制，移动，删除文件和目录

| 命令 | 说明                                                   | 选项                                                         | 常用                                                         |
| ---- | ------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| scp  | 上传本地文件/文件夹到远程<br>远程下载文件/文件夹到本地 | - r 递归<br>- C 压缩<br> - q 静默<br>- v 详细<br>- l 带宽限制 | `scp -r 用户名@远程ip:远程路径 本地路径` ：从远程下载文件夹到本地<br>`scp -r 本地目录 用户名@远程ip:文件路径`：上传本地目录到远程 |



## 运维和进程管理

|命令|说明|选项|常用|
|:--|:--|:--|:--|
|top|查看资源占用|-||
|htop|查看资源占用（彩色模式）|-|`htop`:查看当前资源占用|
|nohup|后台运行程序|-||
|screen|分屏/共享屏|-||
|kill|杀进程|- 9|`kill -9 1234`:使用最高等级杀id为1234的进程i；|



## 调试

|命令|说明|选项|常用|
|:--|:--|:--|:--|
|ldd|查看程序的依赖路径|-||
|which|查看命令的可执行文件路径|-||
|tail|查看日志|- f|tail -f 007.log:查看007.log这个文件最新的内容|



## 网络

|命令|说明|选项|常用|
|:--|:--|:--|:--|
|ifconfig|查看网络接口属性|-||
|netstat|查看网络使用情况|- t<br>- u<br>- n<br>- l<br>- p|`netstat -tunlp | grep 10086`:查看端口10086占用情况;|
|          |                  |           |                                                     |



## 系统

|命令|说明|选项|常用|
|:--|:--|:--|:--|
|uname|查看内核/操作系统/CPU信息|-||
|source|使设置生效|-|`source /etc/profile`:让profile配置生效|
|su|切换账户|-|`su he`:切换到账户he|